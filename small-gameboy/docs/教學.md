# 從頭開始做 Arduino 電子遊戲機

## 前言

前段時間和朋友約好玩交換禮物，我利用 Arduino 和 OLED 螢幕製作了一個簡單的電子遊戲機拿來交換。這篇文章將設計過程分享給大家，希望對大家有幫助！

## 目標

實作一個簡單電子遊戲機，包含以下功能：

- 菜單介面可以選擇遊戲
- 幾款小遊戲，包含貪吃蛇、打磚塊與彈幕等。

![menu](./demo-1.png)
![plane](./demo-2.png)
![brick](./demo-3.png)

## 步驟

### 硬體設計

第一步當然是購買元件啦。我決定好要買的東西後，就打開購物網站隨便挑了一間看得順眼的店家進行採購。目標是在同一間店把所有元件買齊，雖然事後看起來有點買貴了，但差價也不大。

選擇螢幕時，我原本想挑 LCD 顯示器，但意外看到了 OLED 螢幕，覺得聽起來更高端，於是選擇了 OLED。後來才發現雖然價格差不多，但 OLED 的螢幕大小有點小。由於交換禮物的時間臨近，就沒時間重新購買更大的螢幕。

選擇主機時，我最後選用了非原廠版本的 Arduino Uno，因為它最便宜且常見。這次我發現原廠與副廠的差異主要在於用料的紮實度，尤其體現在適配性上。副廠的 USB 控制晶片比較差，導致我剛拿到時，macbook pro 和擴充埠完全偵測不到端口，換到 windows 主機後也還是無法偵測。後來研究了一下，發現因為我的設備都比較新，都是 USB3.0 以上的速度，因此不適配副廠的 USB 控制晶片。改用 windows 主機的 USB2.0 接口後，終於正確連接上了。

最後，我的遊戲手把選用了 PS2 的蘑菇頭按鈕，包含上下左右和中心按鈕。這樣的手把可以讓玩家玩遊戲時更順暢。

其它就是隨便買一些電子零件，包含麵包版、杜邦線、電源之類的，最終的價格如下表：

|        部件        | 量  |  價格  |
| :----------------: | :-: | :----: |
|     OLED 螢幕      |  1  | 185 元 |
| Arduino Uno 開發版 |  1  | 325 元 |
|       電源線       |  1  | 80 元  |
|     PS2 蘑菇頭     |  1  | 50 元  |
|    其他電子零件    |  1  | 60 元  |

總計：185 + 325 + 80 + 50 + 60 = 700 元。

拿到這些零件後，就可以參考網路上的文件一個洞一個洞插囉。這邊我也遇到一個坑，因為這些零件來自各間副廠，他插的孔剛好跟我參考的網路文件相反，所以訊號傳遞錯誤。我後來是透過查詢商家建置的教學網站才得知這一細節。所以結論是在接線時需要仔細檢查實際硬體上的說明，並且比對最適合的網路教學再開始嘗試，務必抱持開放的態度，面對不同副廠零件之間的差異性。

以下幾個連結是我個人喜歡的參考文件，實際上該如何連還是要按照實際硬體的挑選:

- [SSD1306](https://docs.wokwi.com/parts/board-ssd1306)
- [joystick](https://docs.wokwi.com/parts/wokwi-analog-joystick)

最後是接線完成後的參考圖:

![接線圖](./image.png)

### 軟體設計
